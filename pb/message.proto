syntax = "proto3";

package p2p2p;

option go_package = "go/types/message;message";

message MessageWrapper {
    uint32 id = 1; 
    bytes message = 2;
    bytes signature = 3;
    bytes nonce = 4;
}

// first thing sent by the client after secure connection is established
enum Action {
    LIST_FILES = 0;
}

message ActionResponse {
  bool accepted = 1;
}

// Protocol messages
message FileDownloadRequeset {
    string FileName = 1;
}

message FileUploadRequest {
    string FileName = 1;
}

message FileList {
    repeated FileMetadata files = 1;
}

message FileMetadata {
    string hash = 1;
    string name = 2;
}

message FileContents {
    bytes data = 1;
}